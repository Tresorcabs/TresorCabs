name: ðŸ¤– Update README quotidien

on:
  push:
  workflow_dispatch:
  schedule:
    # Tous les jours Ã  7h04 UTC 
    - cron: '04 7 * * *'
    
permissions:
  contents: write
  actions: write
  
jobs:
  update-readme:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [20.x]
        
    steps:
      - name: ðŸ“¥ Checkout repository
        uses: actions/checkout@v3
        
      - name: ðŸ”§ Use Node.js ${{ matrix.node-version }}
        uses: actions/setup-node@v3
        with:
          node-version: ${{ matrix.node-version }}
          
      - name: ðŸ“Š Generate updated README.md
        run: |
          node update-readme.js > README.md
        env:
          CI: true
          
      - name: ðŸ“¤ Commit changes
        uses: EndBug/add-and-commit@v9
        with:
          author_name: Cabs-Bot
          author_email: tresorbio16@gmail.com
          force: false
          signoff: false
          message: 'ðŸ¤– README.md mis Ã  jour automatiquement par Cabs'
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
